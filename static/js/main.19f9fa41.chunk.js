(this.webpackJsonpfhmgraph=this.webpackJsonpfhmgraph||[]).push([[0],{225:function(e,a,t){e.exports=t(466)},230:function(e,a,t){},231:function(e,a,t){},416:function(e,a){},418:function(e,a){},466:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),c=t(66),l=t.n(c),o=(t(230),t(231),t(26)),u=t(469),i=t(8),s=t(39),m=t.n(s);function d(e,a,t){var n=Math.floor(t/2);if(!(a-n<0)&&!(a+n+1>e.length)){var r=0;console.log("---");for(var c=0;c<t;c++)r+=e[c+a-n];return r/t}}function f(e){var a=e.dates,t=e.values,n=e.movingAverage,c=a.map((function(e,a){return{date:(r=e,m()(r).format("MMDD")),cases:t[a],average:d(t,a,n)};var r}));return r.a.createElement(i.c,{width:1200,height:600,data:c},r.a.createElement(i.a,{dataKey:"cases",fill:"#8884d8"}),r.a.createElement(i.d,{type:"monotone",dataKey:"average",stroke:"#000000",strokeWidth:2,dot:!1}),r.a.createElement(i.b,{stroke:"#ccc"}),r.a.createElement(i.e,{dataKey:"date",angle:-90,textAnchor:"end"}),r.a.createElement(i.f,{dataKey:"cases"}))}var v=function(e,a){for(var t=0,n=0;n<=a;n++)t+=e[n];return t};function g(e){var a=e.dates,t=e.values,n=a.map((function(e,a){return{date:(n=e,m()(n).format("MMDD")),casesCumulative:v(t,a)};var n}));return console.log("Cumulative data",n),r.a.createElement(i.c,{width:1200,height:600,data:n},r.a.createElement(i.a,{dataKey:"casesCumulative",fill:"#8884d8"}),r.a.createElement(i.b,{stroke:"#ccc"}),r.a.createElement(i.e,{dataKey:"date",angle:-90,textAnchor:"end"}),r.a.createElement(i.f,{dataKey:"casesCumulative"}))}var h=function(e,a){for(var t=0,n=0;n<a;n++)t+=e[n];if(0===a||0===t)return 0;console.log("*** ",e[a],t,e[a]/t);var r=100*e[a]/t;return r>15?15:r};function E(e){var a=e.dates,t=e.values,n=a.map((function(e,a){return{date:(n=e,m()(n).format("MMDD")),casesIncrease:h(t,a)};var n}));return console.log("Cumulative data",n),r.a.createElement(i.c,{width:1200,height:600,data:n},r.a.createElement(i.a,{dataKey:"casesIncrease",fill:"#8884d8"}),r.a.createElement(i.b,{stroke:"#ccc"}),r.a.createElement(i.e,{dataKey:"date",angle:-90,textAnchor:"end"}),r.a.createElement(i.f,{dataKey:"casesIncrease"}))}var p=t(470);function C(e){var a=e.data,t=[{id:"cases",name:"Cases per day",Component:f},{id:"casesCumulative",name:"Cases cumulative",Component:g},{id:"casesIncrease",name:"Cases increase per day",Component:E}];console.log("Data is now: ",a);var c=a[0].slice(1),l=Object(n.useState)(c.findIndex((function(e){return"Stockholm"===e}))),u=Object(o.a)(l,2),i=u[0],s=u[1],m=Object(n.useState)(t[0]),d=Object(o.a)(m,2),v=d[0],h=d[1],C=Object(n.useState)(7),b=Object(o.a)(C,2),w=b[0],y=b[1],j=a.slice(1);return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a.Row,{columns:"3"},r.a.createElement(p.a.Column,null,"Chart: ",r.a.createElement("select",{value:v.id,onChange:function(e){console.log("What???",e.target.value),h(t.find((function(a){return a.id===e.target.value})))}},t.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)})))),r.a.createElement(p.a.Column,null,"County: ",r.a.createElement("select",{value:i,onChange:function(e){return s(parseInt(e.target.value))}},c.map((function(e,a){return r.a.createElement("option",{key:a,value:a},e)}))))),r.a.createElement(p.a.Row,{columns:"1"},r.a.createElement(p.a.Column,null,"Moving average: ",r.a.createElement("input",{type:"number",value:w,onChange:function(e){return y(e.target.value)}}),r.a.createElement(v.Component,{dates:j.map((function(e){return e[0]})),values:j.map((function(e){return e[1+i]})),movingAverage:w}))))}function b(){var e=Object(n.useState)(null),a=Object(o.a)(e,2),t=a[0],c=a[1],l=Object(n.useState)(!1),i=Object(o.a)(l,2),s=i[0],m=i[1],d=Object(n.useState)(null),f=Object(o.a)(d,2),v=f[0],g=f[1],h=function(e){return r.a.createElement(p.a,{columns:1},r.a.createElement(p.a.Row,null,r.a.createElement(p.a.Column,null,r.a.createElement("input",{type:"file",onChange:function(e){return function(a){m(!0);try{Object(u.a)(a,{sheet:1}).then((function(e){console.log("Rows = ",e),c(e)})),m(!1)}catch(e){m(!1),g(e),console.log("Something went wrong when reading file: ",e)}}(e.target.files[0])}}))),r.a.createElement(p.a.Row,null,r.a.createElement(p.a.Column,null,e)))};return h(v?r.a.createElement("div",null,"There was a problem reading the file."):s?r.a.createElement("div",null,"Loading..."):t?r.a.createElement(C,{data:t}):r.a.createElement("div",null,"Select a file above"))}var w=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement(b,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[225,1,2]]]);
//# sourceMappingURL=main.19f9fa41.chunk.js.map