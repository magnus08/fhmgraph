(this.webpackJsonpfhmgraph=this.webpackJsonpfhmgraph||[]).push([[0],{287:function(e,a,t){e.exports=t(437)},292:function(e,a,t){},437:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(50),o=t.n(l),c=(t(292),t(23)),u=t(455),m=t(459),i=t(262),s=t(260),d=t(452),v=t(263),f=t(264),g=t(99),h=t.n(g);function E(e,a,t){var n=Math.floor(t/2);if(!(a-n<0)&&!(a+n+1>e.length)){var r=0;console.log("---");for(var l=0;l<t;l++)r+=e[l+a-n];return r/t}}function p(e){var a=e.dates,t=e.values,n=e.movingAverage,l=e.normalize,o=e.total;function c(e){return l?14e5*e/o:e}var u=a.map((function(e,a){return{date:(r=e,h()(r).format("MMDD")),cases:c(t[a]),average:c(E(t,a,n))};var r}));return r.a.createElement(m.a,{width:1200,height:600,data:u},r.a.createElement(i.a,{dataKey:"cases",fill:"#8884d8"}),r.a.createElement(s.a,{type:"monotone",dataKey:"average",stroke:"#000000",strokeWidth:2,dot:!1}),r.a.createElement(d.a,{stroke:"#ccc"}),r.a.createElement(v.a,{dataKey:"date",angle:-90,textAnchor:"end"}),r.a.createElement(f.a,{dataKey:"cases"}))}var b=function(e,a){for(var t=0,n=0;n<=a;n++)t+=e[n];return t};function C(e){var a=e.dates,t=e.values,n=a.map((function(e,a){return{date:(n=e,h()(n).format("MMDD")),casesCumulative:b(t,a)};var n}));return console.log("Cumulative data",n),r.a.createElement(m.a,{width:1200,height:600,data:n},r.a.createElement(i.a,{dataKey:"casesCumulative",fill:"#8884d8"}),r.a.createElement(d.a,{stroke:"#ccc"}),r.a.createElement(v.a,{dataKey:"date",angle:-90,textAnchor:"end"}),r.a.createElement(f.a,{dataKey:"casesCumulative"}))}var y=function(e,a){for(var t=0,n=0;n<a;n++)t+=e[n];if(0===a||0===t)return 0;console.log("*** ",e[a],t,e[a]/t);var r=100*e[a]/t;return r>15?15:r};function w(e){var a=e.dates,t=e.values,n=a.map((function(e,a){return{date:(n=e,h()(n).format("MMDD")),casesIncrease:y(t,a)};var n}));return console.log("Cumulative data",n),r.a.createElement(m.a,{width:1200,height:600,data:n},r.a.createElement(i.a,{dataKey:"casesIncrease",fill:"#8884d8"}),r.a.createElement(d.a,{stroke:"#ccc"}),r.a.createElement(v.a,{dataKey:"date",angle:-90,textAnchor:"end"}),r.a.createElement(f.a,{dataKey:"casesIncrease"}))}var j=t(460),k=t(454),O=t(458),S=t(453),K={Totalt_antal_fall:10435447,Blekinge:159021,Dalarna:288118,Gotland:61031,"G\xe4vleborg":287858,Halland:339728,"J\xe4mtland_H\xe4rjedalen":131869,"J\xf6nk\xf6ping":366700,Kalmar:246965,Kronoberg:202987,Norrbotten:249683,"Sk\xe5ne":1399684,Stockholm:2408360,"S\xf6rmland":301222,Uppsala:393165,"V\xe4rmland":283115,"V\xe4sterbotten":274301,"V\xe4sternorrland":244408,"V\xe4stmanland":278608,"V\xe4stra_G\xf6taland":1742917,"\xd6rebro":306600,"\xd6sterg\xf6tland":469107};function z(e){var a=e.data,t=[{id:"cases_normalized",name:"Cases per day normalized",Component:p,normalize:!0},{id:"cases",name:"Cases per day",Component:p,normalize:!1},{id:"casesCumulative",name:"Cases cumulative",Component:C,normalize:!1},{id:"casesIncrease",name:"Cases increase per day",Component:w,normalize:!1}];console.log("Data is now: ",a);var l=a[0].slice(1),o=Object(n.useState)(l.findIndex((function(e){return"Stockholm"===e}))),u=Object(c.a)(o,2),m=u[0],i=u[1],s=Object(n.useState)(t[0]),d=Object(c.a)(s,2),v=d[0],f=d[1],g=Object(n.useState)(7),h=Object(c.a)(g,2),E=h[0],b=h[1],y=Object(n.useState)(180),z=Object(c.a)(y,2),D=z[0],M=z[1],x=a.slice(1),I=x.length,A=l[m],_=function(){return console.log("map = ",K),console.log("county_name = ",A),K[A]};return console.log("Total = ",_()),r.a.createElement(j.a,null,r.a.createElement(j.a.Row,{columns:6},r.a.createElement(j.a.Column,null,r.a.createElement(k.a,{label:"Type",value:v.id,options:t.map((function(e,a){return{key:e.id,value:e.id,text:e.name}})),onChange:function(e,a){return f(t.find((function(e){return e.id===a.value})))}})),r.a.createElement(j.a.Column,null,r.a.createElement(k.a,{value:m,options:l.map((function(e,a){return{key:a,value:a,text:e}})),onChange:function(e,a){return i(parseInt(a.value))}})),r.a.createElement(j.a.Column,null,r.a.createElement(O.a,{label:"Days",type:"number",value:D,onChange:function(e){return M(e.target.value)}})),r.a.createElement(j.a.Column,null,r.a.createElement(O.a,{label:"Moving Avg",type:"number",value:E,onChange:function(e){return b(e.target.value)}}))),r.a.createElement(j.a.Row,{columns:1},r.a.createElement(j.a.Column,null,r.a.createElement(S.a,null,r.a.createElement(v.Component,{dates:x.map((function(e){return e[0]})).slice(D?I-D:0),values:x.map((function(e){return e[1+m]})).slice(D?I-D:0),total:_(),movingAverage:E,normalize:v.normalize})))))}function D(){var e=Object(n.useState)(null),a=Object(c.a)(e,2),t=a[0],l=a[1],o=Object(n.useState)(!1),m=Object(c.a)(o,2),i=m[0],s=m[1],d=Object(n.useState)(null),v=Object(c.a)(d,2),f=v[0],g=v[1],h=function(e){return r.a.createElement(j.a,null,r.a.createElement(j.a.Row,{columns:1},r.a.createElement(j.a.Column,null,r.a.createElement(O.a,{type:"file",onChange:function(e){return function(a){s(!0);try{console.log("Gogo read XlsX"),Object(u.a)(a,{sheet:1}).then((function(e){console.log("Rows = ",e),l(e)})),s(!1)}catch(e){s(!1),g(e),console.log("Something went wrong when reading file: ",e)}}(e.target.files[0])}}))),r.a.createElement(j.a.Row,{columns:1},r.a.createElement(j.a.Column,null,e)))};return h(f?r.a.createElement("div",null,"There was a problem reading the file."):i?r.a.createElement("div",null,"Loading..."):t?r.a.createElement(z,{data:t}):r.a.createElement("div",null,"Select a file above"))}var M=function(){return r.a.createElement(D,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(M,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[287,1,2]]]);
//# sourceMappingURL=main.1926ba59.chunk.js.map